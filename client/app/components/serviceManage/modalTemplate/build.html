<div class="modal-header">
    <button type="button" class="close" ng-click="$ctrl.cancel()"><span aria-hidden="true">&times;</span><span
        class="sr-only">Close</span></button>
    <h4 ng-if="!$ctrl.isEdit" style="float: left;">创建应用</h4>
    <h4 ng-if="$ctrl.isEdit" style="float: left;">编辑应用</h4>
</div>
<div class="modal-body promptbox" id="modal-body">
    <form name="buildForm" role="form" novalidate>
        <div class="form-group">
            <span>项目归属：</span>
            <select class="form-control" name="project" ng-options="option.projectNameZh for option in $ctrl.options"
                    ng-model="$ctrl.project"></select>
        </div>
        <div class="form-group">
            <span>应用名：</span>
            <input name="pattern" type="text" ng-pattern="/^[a-zA-Z][a-zA-Z0-9-]{0,50}$/" ng-model="$ctrl.build.appName"
                   class="form-control" ng-blur="$ctrl.showform(buildForm)" required>
            <div style="width: 200px;margin-left: 41%;color:red;"
                 ng-show="buildForm.pattern.$dirty && buildForm.pattern.$invalid">只能输入数字字母中划线，且首位必须为字母。最大字符长度为50。</div>
        </div>
        <div class="form-group">
            <span>别名：</span>
            <input type="text" ng-model="$ctrl.build.appNameZh" class="form-control" required>
        </div>
        <div class="form-group">
            <span>代码仓库：</span>
            <input type="text" ng-model="$ctrl.build.gitUrl" class="form-control" required>
        </div>
        <div class="form-group">
            <span>选择base镜像：</span>
            <select class="form-control" name="project" ng-options="option.imageName for option in $ctrl.optionsbase"
                    ng-model="$ctrl.image"></select>
        </div>
        <!--<div class="form-group" style="padding-left: 4%">-->
            <!--<span> 定制dockerfile：<input type="checkbox" ng-model="$ctrl.build.myVar"></span>-->
        <!--</div>-->
        <!--<div class="form-group" ng-show="$ctrl.build.myVar">-->
            <!--<span style="top: -20px;position: relative;">DockerFile：</span>-->
            <!--<textarea ng-model="$ctrl.build.dockerfileTpl" class="form-control"></textarea>-->
        <!--</div>-->

        <div class="form-group">
            <span style="top: -20px;position: relative;">备注：</span>
            <textarea ng-model="$ctrl.build.description" class="form-control"></textarea>
        </div>
    </form>
</div>
<div class="modal-footer">
    <button ng-disabled="buildForm.$invalid" type="submit" style="width: 20%" class="btn bp-btn-primary" ng-click="$ctrl.ok($ctrl.build)">提交</button>
</div>
